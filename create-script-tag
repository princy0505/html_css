(function (){
const botDesign = {"chatWindowWidth":"350px","chatWindowHeight":"450px","autoLaunch":true,"mobileAutoLaunch":true,"spacingCorner":"5px","spacingBottom":"5px","alignLeft":false};
const token = "2337fb67-3126-496e-8159-5f1aca8a7a95";
const chatUrl = "https://webchat.livhousing.com/webchat.html";
(()=>{function t(t,e){e?(t.style.bottom=botDesign.launcherSpacingBottom||"0px",botDesign.alignLeft?t.style.left=botDesign.launcherSpacingCorner||"0px":t.style.right=botDesign.launcherSpacingCorner||"0px"):(t.style.bottom=(parseFloat(botDesign.spacingBottom)||0)-7+"px",botDesign.alignLeft?t.style.left=botDesign.spacingCorner||"0px":t.style.right=botDesign.spacingCorner||"0px")}function e(t,e){try{sessionStorage.setItem(t,e)}catch(t){console.error("Unable to use cache storage: ",t)}}function n(t){try{return sessionStorage.getItem(t)}catch(t){console.error("Unable to use cache storage: ",t)}}setTimeout((function(){const o=navigator.userAgent.toLowerCase();let i=!1;-1==o.indexOf("iphone")&&-1==o.indexOf("ipad")&&-1==o.indexOf("android")||(i=!0);const s=void 0!==botDesign.mobileAutoLaunch?botDesign.mobileAutoLaunch:botDesign.autoLaunch;i?s&&!n("lp_active")&&e("lp_active","1"):botDesign.autoLaunch&&!n("lp_active")&&e("lp_active","1");const{rootDivStyle:c,frameStyle:l}=function(){let t=parseFloat(botDesign.launcherSpacingBottom)||0,e=parseFloat(botDesign.launcherSpacingCorner)||0;botDesign.autoLaunch&&(t=(parseFloat(botDesign.spacingBottom)||0)-7,e=parseFloat(botDesign.spacingCorner)||0);return{rootDivStyle:`\nposition:fixed !important;\nbottom:${t}px;\n${botDesign.alignLeft?"left":"right"}:${e}px;\nheight:140px;\nwidth:240px;\nmax-height: calc(100vh - 50px);\nmax-width: calc(100vw - 25px);\ncursor:pointer !important;\nbox-shadow:none !important;\nz-index:9999999999;\n`,frameStyle:"border:none !important; height:100%; width:100%;"}}(),p=document.createElement("div");var g;p.setAttribute("id","liv-prop-chat-root"),p.style=c,function(){const t=document.createElement("style");document.head.appendChild(t),t.sheet.insertRule(`\n@media (max-width: 400px) {\n    #liv-prop-chat-root {\n        ${botDesign.alignLeft?"left":"right"}:1px !important;\n        bottom: 0px !important;\n    }\n}`,0)}(),g=p,window.addEventListener("message",(o=>{if("lp-webchat"!==o.data?.source)return;const{action:i,state:r,design:s}=o.data;if("windowToggle"===i){const o=parseFloat(s.height||"500")+(parseFloat(botDesign.spacingBottom)||18),i=parseFloat(s.width||"420")+5;g.style.top=null,g.style.left=null,g.style.height=`${o}px`,g.style.width=`${i}px`,r?(t(g,!1),e("lp_active","1")):n("lp_active")&&(t(g,!0),e("lp_active","0"))}else if("moveIFrameForLauncher"===i)t(g,!0);else if("toggleFS_ON"===i)g.style.top="0px",g.style.left="0px",g.style.height="100vh",g.style.width="100vw";else if("set-visitor-id"===i){const{recipientId:t}=o.data;t&&a(t)}else console.log("LP: Unknown action:",o)}),!1);const h=document.createElement("iframe");h.src=function(t,e){const n=Object.keys(e);if(n?.length){const o=n.reduce(((t,n)=>{let o=e[n];return null==o?t:(o=`${n}=${encodeURIComponent(o)}`,t?`${t}&${o}`:o)}),"");o&&(t=`${t}${t.includes("?")?"&":"?"}${o}`)}return t}(chatUrl,function(){const t=new URLSearchParams(window.location.search),e=window.location.href,o=document.referrer;return Array.from(t.keys()).reduce(((e,n)=>{if(n.startsWith("utm_")){const o=t.get(n);o&&"null"!==o&&(e[n]=o)}return e}),{token,sourceUrl:e,referrerUrl:o,recipientId:r(),autoLaunch:"1"===n("lp_active")?"1":void 0})}()),h.style=l,p.appendChild(h),document.body.appendChild(p)}),250);const o="lp-vid",i="permanent-app-id";function r(){try{let t=localStorage.getItem(o);return t||(t=localStorage.getItem(i),t&&(a(t),localStorage.removeItem(i))),t}catch(t){console.error("Unable to use browser cache",t)}}function a(t){try{localStorage.setItem(o,t)}catch(t){console.error("Unable to use browser cache",t)}}})();
})();